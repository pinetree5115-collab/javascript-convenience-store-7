# javascript-convenience-store-precourse

### 1. 초기 세팅 및 데이터 로드 (파일 입출력)

- [x]  `public/products.md` 파일을 읽어 상품명, 가격, 재고, 프로모션 정보를 객체 배열로 저장한다.
- [x]  `public/promotions.md` 파일을 읽어 프로모션 이름, 구매 수량(N), 증정 수량(1), 시작/종료 날짜를 저장한다.
- [x]  **예외:** 파일 내용이 비어있거나 형식이 잘못된 경우 에러 처리.

### 2. 상품 목록 출력 및 사용자 입력 받기

- [x]  환영 인사와 함께 현재 보유 중인 상품 목록(상품명, 가격, 재고, 프로모션)을 출력한다.
    - [x]  재고가 0개인 경우 `재고 없음`으로 표시한다.
- [x]  구매 상품과 수량을 입력받는다. (형식: `[사이다-2],[감자칩-1]`)
- [x]  **예외 처리:**
    - [x]  형식이 잘못된 경우: `[ERROR] 올바르지 않은 형식으로 입력했습니다. 다시 입력해 주세요.`
    - [x]  존재하지 않는 상품인 경우: `[ERROR] 존재하지 않는 상품입니다. 다시 입력해 주세요.`
    - [x]  재고를 초과한 경우: `[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요.`

### 3. 프로모션 로직 검토 및 사용자 확인 (핵심)

- [x]  입력받은 각 상품이 **오늘 날짜(`DateTimes.now()`)** 기준으로 프로모션 기간에 포함되는지 확인한다.
- [x]  **프로모션 혜택 안내:** 1개만 더 사면 증정품을 받을 수 있는 경우(예: 2+1인데 2개만 담은 경우).
    - [x]  `현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)` 출력 및 입력.
- [x]  **프로모션 재고 부족 안내:** 프로모션 재고가 부족하여 일부 수량을 정가로 결제해야 하는 경우.
    - [x]  `현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)` 출력 및 입력.
- [x]  사용자의 응답(Y/N)에 따라 최종 결제 수량을 확정한다.

### 4. 멤버십 할인 및 최종 금액 계산

- [x]  멤버십 할인 적용 여부를 입력받는다. (`멤버십 할인을 받으시겠습니까? (Y/N)`)
- [x]  **금액 산출:**
    - [x]  **총구매액:** (상품 가격 × 총 수량)의 합계.
    - [x]  **행사 할인:** 프로모션 증정 상품의 가격 합계.
    - [x]  **멤버십 할인:** 프로모션이 **적용되지 않은** 금액의 30% 계산. (최대 한도 8,000원)
    - [x]  **내실돈:** 총구매액 - 행사 할인 - 멤버십 할인.

### 5. 재고 업데이트 및 영수증 출력

- [x]  결제가 확정된 상품의 수량만큼 실제 재고(프로모션 재고 우선 차감 후 일반 재고 차감)를 업데이트한다.
- [x]  영수증 형식을 맞춰 출력한다.
    - [x]  구매 내역(상품명, 수량, 금액)
    - [x]  증정 내역(상품명, 수량)
    - [x]  금액 정보(총구매액, 행사할인, 멤버십할인, 내실돈)

### 6. 반복 구매 여부 확인

- [x]  `감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)` 메시지를 출력한다.
- [x]  **Y:** 업데이트된 재고를 기반으로 2번 단계부터 다시 시작한다.
- [x]  **N:** 프로그램을 종료한다.